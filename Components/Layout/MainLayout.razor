@inherits LayoutComponentBase

@using FSDProject.State

@implements IDisposable

@inject NavState NavState

<div class="main-page">
	<NavigationMenu />
	<main class="@(NavState.Property ? "menu-opened" : "menu-closed")">
		@Body
	</main>
</div>

<div id="blazor-error-ui">
	An unhandled error has occurred.
	<a href="" class="reload">Reload</a>
	<a class="dismiss">🗙</a>
</div>

@code {
	protected override void OnInitialized()
	{
		NavState.OnChange += StateHasChanged;
	}

	public void Dispose()
	{
		NavState.OnChange -= StateHasChanged;
	}
}